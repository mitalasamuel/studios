(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{5769:function(e,t,o){"use strict";o.d(t,{m:function(){return a}});var r=o(9477),n=o(8803),i=o(7294);let s=e=>e===Object(e)&&!Array.isArray(e)&&"function"!=typeof e;function a(e,t){let o=(0,n.z)(e=>e.gl),a=(0,n.D)(r.TextureLoader,s(e)?Object.values(e):e);if((0,i.useLayoutEffect)(()=>{null==t||t(a)},[t]),(0,i.useEffect)(()=>{let e=Array.isArray(a)?a:[a];e.forEach(o.initTexture)},[o,a]),!s(e))return a;{let t=Object.keys(e),o={};return t.forEach(e=>Object.assign(o,{[e]:a[t.indexOf(e)]})),o}}a.preload=e=>n.D.preload(r.TextureLoader,e),a.clear=e=>n.D.clear(r.TextureLoader,e)},5557:function(e,t,o){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return o(8316)}])},3237:function(e,t,o){"use strict";o.d(t,{Z:function(){return u}});var r=o(5893),n=o(7294),i=o(6038),s=o(5851),a=o(3963),l=e=>({wrapper:{"& p":{fontSize:"4.6vw",lineHeight:1,marginBottom:0,[e.mq.sm]:{fontSize:40},"& .lineParent":{overflow:"visible"}}}});let c=(0,a.ZL)({name:"ScrollTextFadeIn"})(l);var u=function(e){let{text:t,isPageAnimationReady:o,once:a=!0}=e,l=(0,n.useRef)(),[u,d]=(0,n.useState)(),[m,p]=(0,n.useState)(),{classes:v}=c();return(0,n.useEffect)(()=>{u&&(l.current=i.ZP.context(()=>{i.ZP.set(u.chars,{autoAlpha:.1})}))},[u]),(0,n.useEffect)(()=>{o&&u&&m&&l.current.add(()=>{i.ZP.to(u.chars,{autoAlpha:1,stagger:.1,duration:1.6,ease:"expo.out",scrollTrigger:{trigger:m,start:"top 85%",end:"bottom center",scrub:.8,once:a,markers:!1},onComplete:()=>{a&&u.revert()}})})},[o,u,m]),(0,n.useEffect)(()=>()=>{m&&l.current.revert()},[m]),(0,r.jsx)("span",{className:v.wrapper,children:(0,r.jsx)(s.Z,{type:"chars",ref:e=>{e&&d(e.ref),e&&p(e.node)},tag:"p",content:t})})}},2520:function(e,t,o){"use strict";o.d(t,{Z:function(){return d}});var r=o(5893),n=o(5214),i=o(3473),s=o(3963),a=o(4775),l=o(7986),c=e=>({root:{paddingTop:e.spacerLG.default,color:e.colors[1],[e.mq.sm]:{paddingTop:e.spacerLG.sm}},text:{"& sup":{fontSize:12,verticalAlign:"top",textTransform:"uppercase",transform:"translateY(2px)",display:"inline-block",minWidth:"32vw",float:"left",[e.mq.sm]:{minWidth:"none",float:"none",marginBottom:20,marginRight:30}},"& p":{fontSize:"4vw",lineHeight:"1",textShadow:"0 2px ".concat(e.colors[0],", 2px -2px ").concat(e.colors[0],", -2px -2px ").concat(e.colors[0],", -2px 2px ").concat(e.colors[0],",  2px 2px ").concat(e.colors[0]),position:"relative",zIndex:1,pointerEvents:"none","& > div:not(:last-child)":{zIndex:2},[e.mq.sm]:{fontSize:28,textShadow:"none"}},"& a":{fontSize:"4vw",position:"relative",zIndex:-1,display:"inline-block",color:e.colors[1],marginLeft:".4em",pointerEvents:"all","& .hoverRect":{marginTop:".1em",padding:".15em .6em .13em",strokeWidth:".13em","& svg":{strokeWidth:"2px"}},"& .hoverUnderline":{bottom:"-3px",height:".03em"},[e.mq.sm]:{fontSize:28,marginLeft:0}}}});let u=(0,s.ZL)({name:"WorkWithUsSection"})(c);var d=function(){let{classes:e}=u(),{strings:t}=(0,a.oR)(),o=(0,l.Z)(e=>e.isPageAnimationReady);return(0,r.jsx)("div",{className:e.root,children:(0,r.jsx)(i.r,{children:(0,r.jsx)(i.P,{col:3,children:(0,r.jsx)(n.Z,{isPageAnimationReady:o,className:e.text,text:"<sup>".concat(null==t?void 0:t.work_pretitle,"</sup> ").concat(null==t?void 0:t.work_description),theme:"dark"})})})})}},8316:function(e,t,o){"use strict";o.r(t),o.d(t,{__N_SSG:function(){return eo},default:function(){return er}});var r=o(5893),n=o(7294),i=o(5152),s=o.n(i),a=o(3988),l=o.n(a),c=o(8808),u=o(3481),d=o(6038),m=o(7188),p=o(8803),v=o(9349),f=o(7986),x=o(9477),g=o(5769);let h=e=>{let[t,o]=(0,n.useState)(null),[r,i]=(0,n.useState)(null),s=(0,n.useRef)(null),a=(0,n.useCallback)(e=>{e.target.crossOrigin="anonymous",e.target.loop=!0,e.target.muted=!0,e.target.volume=0,e.playsInLine=!0,e.defaultMuted=!0,i(e.target)},[]),l=(0,n.useCallback)(()=>(s.current=document.createElement("video"),s.current.crossOrigin="anonymous",s.current.loop=!0,s.current.muted=!0,s.current.volume=0,s.current.playsInLine=!0,s.current.defaultMuted=!0,s.current.src=e,s.current.addEventListener("loadedmetadata",e=>a(e)),()=>{s.current.removeEventListener("loadedmetadata",e=>a(e))}),[e]);return(0,n.useEffect)(()=>{r&&(o(new x.VideoTexture(r)),s.current.play())},[r]),(0,n.useEffect)(()=>(e&&l(),()=>{s.current&&s.current.remove()}),[e]),t},y=(0,n.forwardRef)((e,t)=>{let{video:o,jellyRadius:i}=e,{viewport:s,size:a}=(0,p.z)(),l=h(o),c=(0,g.m)("/images/logo-gooey-effect.png"),u=(0,n.useMemo)(()=>({uniforms:{uLogoTexture:new x.Uniform(c),uLogoTextureSize:new x.Uniform([c.image.width,c.image.height]),uVideoReel:new x.Uniform(l),uVideoReelSize:new x.Uniform([null==l?void 0:l.image.videoWidth,null==l?void 0:l.image.videoHeight]),uResolution:new x.Uniform([a.width,a.height]),uMouse:new x.Uniform(new x.Vector2(0,0)),uJellyRadius:new x.Uniform(i)},vertexShader:"\n        varying vec2 vUv;\n        void main() {\n          vUv = uv;\n          gl_Position = projectionMatrix * modelMatrix * viewMatrix * vec4(position, 1.0);\n        }\n      ",fragmentShader:"\n        varying vec2 vUv;\n        uniform vec2 uResolution;\n        uniform vec2 uMouse;\n        uniform sampler2D uVideoReel;\n        uniform vec2 uVideoReelSize;\n        uniform sampler2D uLogoTexture;\n        uniform vec2 uLogoTextureSize;\n        uniform float uJellyRadius;\n        \n        vec2 Cover(vec2 uv, vec2 screenSize, vec2 imageSize) {\n          vec2 s = screenSize;\n          vec2 i = imageSize;\n          float rs = s.x / s.y;\n          float ri = i.x / i.y;\n          vec2 new = rs < ri ? vec2(i.x * s.y / i.y, s.y) : vec2(s.x, i.y * s.x / i.x);\n          vec2 offset = (rs < ri ? vec2((new.x - s.x) / 2.0, 0.0) : vec2(0.0, (new.y - s.y) / 2.0)) / new;\n          vec2 st = uv * s / new + offset;\n          return st;\n        }\n\n        float circle(vec2 pt, vec2 center, float radius){\n          float dist = length(pt-center);\n          //return  smoothstep( radius,  0.0, dist);\n          return 1.23 -  smoothstep( radius,  0.0, dist);\n        }\n\n        float rect(vec2 pt, vec2 size, vec2 center, bool soften, float edge){\n          vec2 p = pt - center;\n          vec2 halfsize = size * 0.5;\n          float ed = soften ? edge*0.5 : 0.0;\n          float horizontal = smoothstep(-halfsize.x - ed, -halfsize.x + ed, p.x) - smoothstep(halfsize.x - ed, halfsize.x + ed, p.x);\n          float vertical = smoothstep(-halfsize.y - ed, -halfsize.y + ed, p.y) - smoothstep(halfsize.y - ed, halfsize.y + ed, p.y);\n          return horizontal * vertical;\n        }\n\n        void main() {\n          vec2 uv = vUv;\n          vec2 cuv = Cover(uv, uResolution, uVideoReelSize);\n\n          float resolutionAspect = uResolution.x/uResolution.y;\n          float logoAspect = uLogoTextureSize.x/uLogoTextureSize.y;\n\n          vec4 videoTexture = texture2D(uVideoReel, cuv).rgba;\n          vec4 logoTexture = texture2D(uLogoTexture, vec2(uv.x, uv.y * logoAspect / resolutionAspect)).rgba;\n\n          vec2 mouse = (uMouse - .5);\n          mouse *= vec2(1.01, 1.02);\n          mouse += .5;\n\n          float cursor = circle(uv / vec2(1.0, resolutionAspect)  , mouse / vec2(1.0, resolutionAspect) , uJellyRadius) * 2.0;\n          vec2 alphaLogo =  vec2(logoTexture.r, logoTexture.g);\n\n          \n          // float box = 1.0 - rect(uv, vec2(1.0), vec2(0.5), true, 0.01);\n          float box = 1.1 - rect(uv, vec2(1.0), vec2(0.5), true, 0.3);\n          box -= 1. - rect(uv, vec2(1.0, .995), vec2(0.5), true, 0.05);\n          box -= 1. - rect(uv, vec2(1.0, .995), vec2(0.5), true, 0.029);\n\n          // Angoli\n          box -= (rect(uv, vec2(.07*resolutionAspect, .1), vec2(.0, .95), true, 0.1) * .3);\n          box -= (rect(uv, vec2(.07*resolutionAspect, .1), vec2(1.01, .95), true, 0.1) * .3);\n          // box -= (rect(uv, vec2(.1*resolutionAspect, .13), vec2(.03, 0.), true, 0.2) * 0.3);\n          // box -= (rect(uv, vec2(.1*resolutionAspect, .13), vec2(.97, 0.), true, 0.2) * .3);\n\n        \n          float blur = alphaLogo.r + alphaLogo.g + box + cursor;\n          float text = alphaLogo.g;\n          \n          // float jelly = ( 1.0 - smoothstep(.98, 1., length(vec2(alphaLogo.r * blur, blur))));\n          // float jelly = ( 1.0 - smoothstep( smoothstep(0.0, 0.11, box), 1.0, length(vec2(alphaLogo.r * blur, blur))));\n          float tresholdBounds = mix(.997, .98, (rect(uv, vec2(.91, .89), vec2(0.5), true, 0.04)));\n          float jelly = ( 1.0 - smoothstep( tresholdBounds, 1.0, length(vec2(alphaLogo.r * blur, blur))));\n\n          float jellyText = text + jelly;\n          vec3 color = mix(videoTexture.rgb,  vec3(1.0 - videoTexture.r), jellyText);\n          gl_FragColor = vec4(color, 1.0);\n          // gl_FragColor = vec4(vec3(1.-box), 1.0);\n        }\n    "}),[l,s]);return(0,r.jsxs)("mesh",{scale:[s.width,s.height,1],ref:t,children:[(0,r.jsx)("planeGeometry",{}),(0,r.jsx)("shaderMaterial",{args:[u],transparent:!0})]})});y.defaultProps={jellyRadius:.12};var b=(0,n.memo)(y),j=o(8428),w=o(9391),_=(0,n.memo)(function(e){let{video:t}=e,o=(0,v.Z)(e=>e.mouse),i=(0,f.Z)(e=>e.isLoaderExited),s=(0,n.useRef)(null),a=(0,w.Z)(5e3,!0),l=(0,n.useRef)({x:.47,y:.11}),{viewport:c,size:u}=(0,p.z)(),[d,m]=(0,n.useState)(!0);return(0,n.useEffect)(()=>{i&&setTimeout(()=>{m(!1)},2e3)},[i]),(0,p.A)(()=>{a||d?(l.current.x=(0,j.t7)(l.current.x,.47,.1),l.current.y=(0,j.t7)(l.current.y,.11*c.aspect,.1)):(l.current.x=(0,j.t7)(l.current.x,o.x/u.width,.1),l.current.y=(0,j.t7)(l.current.y,1-(o.y+window.pageYOffset)/u.height,.1)),s.current&&(s.current.material.uniforms.uMouse.value.x=l.current.x,s.current.material.uniforms.uMouse.value.y=l.current.y)}),(0,r.jsx)("group",{children:(0,r.jsx)(b,{video:t,ref:s})})}),T=o(2001),z=o(9843),Z=o(3963),S=o(5361),P=o(6433),L=e=>({hero:{position:"relative",zIndex:1,height:"var(--vh)",overflow:"hidden",backgroundColor:e.colors[0],[e.mq.sm]:{height:"var(--vh-fixed)"}},canvasWrapper:{width:"100%",height:"100%",backgroundColor:e.colors[0],padding:0},video:{width:"100%",height:"100%",transform:"scale(1.01)",objectFit:"cover",objectPosition:"center"},title:{mixBlendMode:"difference",display:"none",position:"absolute",zIndex:1,left:0,bottom:45,width:"250vw",maxWidth:"none",[e.mq.sm]:{display:"block"}}});let k=(0,Z.ZL)({name:"Home_Cover"})(L);var R=function(e){let{src:t}=e,{classes:o}=k(),i=(0,n.useRef)(),[s,a]=(0,n.useState)(),{sources:l}=(0,P.Z)(),[c,u]=(0,n.useState)(null),{MatchQuery:p,NotMatchQuery:v,match:x}=(0,z.Z)("sm"),{isInView:g}=(0,T.Z)({trigger:s,once:!1,start:"top bottom",end:"bottom top"}),{isPageAnimationReady:h,isLoaderExiting:y}=(0,f.Z)(),b=(0,S.Z)(e=>e.setHeaderStyle),j=(0,n.useCallback)(()=>{if(!h)return;let e=i.current.offsetWidth-window.innerWidth;d.ZP.fromTo(i.current,{x:-e},{x:0,scrollTrigger:{trigger:s,start:"bottom bottom",end:"bottom 30%",scrub:1,once:!1}})},[x,h]);return(0,n.useEffect)(()=>{let e;if(y&&x){var t;let o=((null===(t=i.current)||void 0===t?void 0:t.offsetWidth)||0)-window.innerWidth;e=d.ZP.to(i.current,{x:-o,duration:1.4,ease:"circ.out",onComplete:()=>{j()}})}return()=>{y&&x&&e.kill()}},[y,j,x]),(0,n.useEffect)(()=>{b("background",!g)},[g]),(0,n.useEffect)(()=>{let e=l.find(e=>e.src===t);e&&u(e.srcCached)},[l]),(0,r.jsxs)("div",{className:o.hero,ref:a,children:[(0,r.jsxs)(p,{children:[h?(0,r.jsx)("video",{webkitplaysinline:"webkit-plays-inline",playsInline:!0,className:o.video,muted:!0,autoPlay:!0,loop:!0,src:c}):null,(0,r.jsx)("img",{ref:i,className:o.title,src:"/images/studio_gusto_mobile.png",alt:"studiogusto"})]}),(0,r.jsx)(v,{children:(0,r.jsx)("div",{className:o.canvasWrapper,children:(0,r.jsx)(m.Xz,{dpr:[1,2],frameloop:g?"always":"never",children:(0,r.jsx)(_,{video:h?c:null,isInView:g})})})})]})},A=o(3473),E=o(3237),M=e=>({root:{paddingTop:e.spacerXL.default,[e.mq.sm]:{paddingTop:e.spacerXL.sm}}});let N=(0,Z.ZL)({name:"Home_Intro"})(M);var q=function(e){let{text:t}=e,{classes:o}=N(),n=(0,f.Z)(e=>e.isPageAnimationReady);return(0,r.jsx)(A.r,{className:o.root,children:(0,r.jsx)(A.P,{col:2,offset:1,children:(0,r.jsx)(E.Z,{text:t,isPageAnimationReady:n,once:!1})})})},C=o(5214),D=o(5139),W=e=>({root:{[e.mq.xl]:{"& .titleParent":{margin:"-2px 0 0 0"}},[e.mq.sm]:{"& .titleParent":{margin:0}}},text:{marginTop:e.spacerMD.default,fontSize:16,color:e.getRgba(e.colors[1],.4),[e.mq.sm]:{marginTop:30},"& a":{fontSize:24,color:e.colors[1]}}});let I=(0,Z.ZL)({name:"Projects"})(W),U=(0,n.forwardRef)((e,t)=>{let{className:o,items:n=[],text:i}=e,{classes:s,cx:a}=I(),l=(0,f.Z)(e=>e.isPageAnimationReady);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(A.r,{className:a({[s.root]:!0,[o]:o}),ref:t,children:n.map((e,t)=>(0,r.jsx)(A.P,{offset:t%4==0||t%4==3?1:0,children:(0,r.jsx)(D.Z,{index:t,item:e})},e.id))}),i?(0,r.jsx)(A.r,{children:(0,r.jsx)(A.P,{className:s.text,offset:1,children:(0,r.jsx)(C.Z,{isPageAnimationReady:l,text:i,theme:"dark",alpha:!0})})}):null]})});var B=o(7328),O=o(6804),G=e=>({root:{marginTop:e.spacerMD.default,paddingTop:e.spacerMD.default,paddingBottom:e.spacerMD.default,background:e.colors[1],color:e.colors[0],[e.mq.sm]:{position:"relative",zIndex:1,marginTop:e.spacerMD.sm,paddingTop:60,paddingBottom:e.spacerMD.sm}},text:{marginTop:e.spacerMD.default,[e.mq.sm]:{marginTop:50}},title:{[e.mq.sm]:{marginBottom:20}},postWrapper:{[e.mq.sm]:{marginBottom:0}}});let V=(0,Z.ZL)({name:"BlogSection",uniqId:"studiogusto"})(G);var H=function(e){let{title:t,text:o,items:i=[]}=e,{classes:s,cx:a}=V(),[l,c]=(0,n.useState)(),u=d.ZP.utils.selector(l),m=(0,f.Z)(e=>e.isPageAnimationReady);return(0,n.useEffect)(()=>{u&&u(".post").forEach(e=>{e&&d.ZP.set(e,{autoAlpha:0,y:50})})},[l]),(0,n.useEffect)(()=>{if(m){let e=u(".postParent");u(".post").forEach((t,o)=>{d.ZP.to(t,{autoAlpha:1,y:0,duration:1.6,ease:"expo.out",delay:.2*o,scrollTrigger:{trigger:e[o],start:"top 85%"}})})}},[m]),(0,r.jsxs)(A.r,{className:s.root,ref:c,children:[(0,r.jsx)(A.P,{col:1,className:s.title,children:(0,r.jsx)(O.Z,{isPageAnimationReady:m,title:t,theme:"light",size:"md"})}),i.map(e=>(0,r.jsx)(A.P,{col:1,className:a({[s.postWrapper]:!0,postParent:!0}),children:(0,r.jsx)(B.Z,{post:e})},e.id)),(0,r.jsx)(A.P,{className:s.text,col:1,offset:1,children:(0,r.jsx)(C.Z,{isPageAnimationReady:m,text:o,theme:"light",alpha:!0})})]})},F=o(2520),X=o(1089),J=o(6137),Q=e=>({root:{[e.mq.sm]:{paddingTop:e.spacerMD.sm}},page:{backgroundColor:e.colors[1]},projectGrid:{paddingTop:e.spacerMD.default,[e.mq.sm]:{paddingTop:90}}});let Y=s()(()=>o.e(382).then(o.bind(o,9382)),{loadableGenerated:{webpack:()=>[9382]},ssr:!1}),K=s()(()=>o.e(572).then(o.bind(o,9572)),{loadableGenerated:{webpack:()=>[9572]},ssr:!1}),$=s()(()=>o.e(295).then(o.bind(o,5681)),{loadableGenerated:{webpack:()=>[5681]},ssr:!1}),ee=(0,Z.ZL)({name:"Page_Home"})(Q),et=e=>{var t,o,i,s,a,d,m;let{pageData:p={}}=e,{classes:v}=ee(),[f]=(0,n.useState)(p);return(0,X.Z)({init:!0,sources:[{type:"video",src:l().mobile?f.cover.url_mobile_mp4:l().safari?f.cover.url_desktop_mp4:f.cover.url_desktop_webm}]}),(0,r.jsxs)(u.Z,{children:[(0,r.jsx)(c.Z,{title:null===(t=f.seo)||void 0===t?void 0:t.seo_title,description:null===(o=f.seo)||void 0===o?void 0:o.seo_description,image:null===(i=f.seo)||void 0===i?void 0:null===(s=i.seo_og_image)||void 0===s?void 0:s.url}),(0,r.jsx)(R,{src:l().mobile?f.cover.url_mobile_mp4:l().safari?f.cover.url_desktop_mp4:f.cover.url_desktop_webm}),(0,r.jsx)(q,{text:f.intro_text}),(0,r.jsx)(Y,{title:(0,J.y)(f.projects_title),text:f.projects_text}),(0,r.jsx)(U,{className:v.projectGrid,items:f.projects,text:f.projects_all_text}),(0,r.jsx)(H,{title:f.news_title,text:f.news_all_text,items:f.posts}),(0,r.jsx)(K,{title:f.videos_title,video_full:null===(a=f.video_section)||void 0===a?void 0:a.video_full,video_short:null===(d=f.video_section)||void 0===d?void 0:d.video_short,poster:null===(m=f.video_section)||void 0===m?void 0:m.poster_desktop}),(0,r.jsx)(F.Z,{}),(0,r.jsx)($,{})]})};var eo=!0,er=et}},function(e){e.O(0,[737,966,743,188,503,773,437,774,888,179],function(){return e(e.s=5557)}),_N_E=e.O()}]);